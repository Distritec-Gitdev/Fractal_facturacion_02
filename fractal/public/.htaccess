<IfModule mod_rewrite.c>
    <IfModule mod_negotiation.c>
        Options -MultiViews -Indexes
    </IfModule>

    RewriteEngine On

    # ‚¨ÜÔ∏è Aumenta o elimina el l√≠mite de Apache (25 MB = 26214400 bytes)
    # Si prefieres sin l√≠mite, comenta esta l√≠nea.
    LimitRequestBody 26214400

    # Soporte para Authorization Header
    RewriteCond %{HTTP:Authorization} .
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

    # Eliminar slash final (excepto carpetas)
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_URI} (.+)/$
    RewriteRule ^ %1 [L,R=301]

    # Enviar todas las solicitudes a index.php (salvo archivos/folders existentes)
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]

    # Permitir URLs amigables para Livewire
    RewriteCond %{REQUEST_URI} ^/livewire/livewire.js [NC]
    RewriteRule ^ - [L]

    RewriteCond %{REQUEST_URI} ^/livewire/message/ [NC]
    RewriteRule ^ - [L]
</IfModule>

# üì¶ Aumenta los l√≠mites de PHP (solo si usas mod_php; NO funciona con PHP-FPM)
<IfModule mod_php7.c>
    php_value upload_max_filesize 25M
    php_value post_max_size 25M
    php_value memory_limit 256M
    php_value max_file_uploads 20
    php_flag file_uploads On
</IfModule>
<IfModule mod_php8.c>
    php_value upload_max_filesize 25M
    php_value post_max_size 25M
    php_value memory_limit 256M
    php_value max_file_uploads 20
    php_flag file_uploads On
</IfModule>
