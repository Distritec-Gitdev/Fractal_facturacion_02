/* ===========================
   Estilos personalizados Filament
   =========================== */

/* ---------- Tema claro ---------- */
:root.light {
    --fractal-primary: #10B981;
    --fractal-primary-dark: #059669;
    --fractal-bg-primary: #FEFEFE;
    --fractal-bg-secondary: #ffffff;
    --fractal-bg-tertiary: #F9FAFB;
    --fractal-text-primary: #111827;
    --fractal-text-secondary: #374151;
    --fractal-border-primary: #10B981;
    --fractal-border-secondary: #E5E7EB;
    --fractal-shadow-sm: 0 1px 2px rgba(16, 185, 129, 0.10);
    --fractal-shadow-md: 0 6px 16px rgba(16, 185, 129, 0.20);
}

/* ---------- Contenedor principal de List ---------- */
.fi-resource-list-records-page {
    background: var(--fractal-bg-primary);
    color: var(--fractal-text-primary);
    font-family: 'Poppins', sans-serif !important;
    font-weight: 600;
    font-size: 12px;
    line-height: 1.25;
    transition: color .5s cubic-bezier(0.4,0,0.2,1), background-color .5s cubic-bezier(0.4,0,0.2,1);
}

/* Sidebar (ambos temas) */
.fi-sidebar { width: 220px !important; min-width: 220px !important; }
.fi-sidebar .fi-sidebar-content { max-width: 200px !important; overflow: hidden; }

/* ---------- Tabla base ---------- */
.fi-ta-table {
    background: var(--fractal-bg-secondary);
    border: 1px solid var(--fractal-border-secondary);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: var(--fractal-shadow-sm);
    font-family: 'Poppins', sans-serif !important;
    font-weight: 500;
    font-size: 12px;
    line-height: 1.2;
    transition: background-color .35s ease-in-out, box-shadow .35s ease-in-out, transform .25s ease-in-out;
}
.fi-ta-table:hover {
    background-color: var(--fractal-bg-tertiary);
    box-shadow: var(--fractal-shadow-md);
    transform: translateY(-2px);
}

/* ---------- Botón primario ---------- */
.fi-btn-primary {
    background: var(--fractal-primary) !important;
    border-color: var(--fractal-primary) !important;
    color: #fff !important;
    box-shadow: 0 2px 6px rgba(0,0,0,.2);
    transition: background-color .5s cubic-bezier(0.4,0,0.2,1), box-shadow .5s cubic-bezier(0.4,0,0.2,1);
}
.fi-btn-primary:hover {
    background: var(--fractal-primary-dark) !important;
    border-color: var(--fractal-primary-dark) !important;
    box-shadow: 0 4px 12px rgba(0,0,0,.3);
}

/* ---------- Tema oscuro ---------- */
:root.dark {
    --fractal-primary: #60A5FA;
    --fractal-primary-dark: #3B82F6;
    --fractal-bg-primary: #000000;
    --fractal-bg-secondary: #0062ff;
    --fractal-bg-tertiary: #82cc0e;
    --fractal-text-primary: #F8FAFC;
    --fractal-text-secondary: #E2E8F0;
    --fractal-border-primary: #60A5FA;
    --fractal-border-secondary: #82cc0e;
    --fractal-shadow-sm: 0 1px 2px rgba(96,165,250,.10);
    --fractal-shadow-md: 0 6px 16px rgba(96,165,250,.20);
}
:root.dark .fi-sidebar { width: 220px !important; min-width: 220px !important; }
:root.dark .fi-sidebar .fi-sidebar-content { max-width: 200px !important; overflow: hidden; }
:root.dark .fi-ta-table {
    background: rgba(0,0,0,.829) !important;
    color: #fff !important;
    padding: 12px !important;
    border-spacing: 0 8px !important;
    border-collapse: separate !important;
    border-radius: 12px !important;
}

/* ---------- Page "user-metrics" ---------- */
.page-user-metrics .fi-wi-stats-overview-stats-ctn { gap: .75rem !important; }
.page-user-metrics .fi-wi-stats-overview-stat { padding: .75rem !important; }
.page-user-metrics .fi-wi-stats-overview-stat-value { font-size: 1.25rem !important; line-height: 1.5rem !important; }
.page-user-metrics .fi-wi-stats-overview-stat-label,
.page-user-metrics .fi-wi-stats-overview-stat-description { font-size: .75rem !important; }
.page-user-metrics .fi-wi-widget .fi-section-content { padding: .75rem !important; }

/* ---------- Scrollbar & Animación Chat ---------- */
.custom-scrollbar::-webkit-scrollbar { width: 8px; }
.custom-scrollbar::-webkit-scrollbar-thumb { background:#2f2f2f; border-radius:4px; }
.custom-scrollbar::-webkit-scrollbar-thumb:hover { background:#3b3b3b; }
@keyframes pulseGreen { 0%,100%{opacity:1;} 50%{opacity:.5;} }
.animate-pulse-green { animation: pulseGreen 1.5s infinite; }

/* ===========================
   ULTRA COMPACTO TABLAS
   =========================== */

/* Encabezados y celdas más compactas */
.fi-ta-table th,
.fi-ta-table td { padding: 2px 6px !important; vertical-align: middle !important; }

/* Tipografía en header/contenido */
.fi-ta-table thead th,
.fi-ta-table .fi-ta-header-cell { font-size: 11px !important; }
.fi-ta-table .fi-ta-text,
.fi-ta-table .fi-ta-col-content { font-size: 12px !important; line-height: 1.2 !important; }

/* Columnas por defecto (ellipsis) */
.fi-ta-table td {
    max-width: 12rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Íconos por defecto pequeños */
.fi-ta-table .fi-icon svg,
.fi-ta-table .fi-icon-btn svg { width: 16px !important; height: 16px !important; }

/* Celdas súper angostas utilitarias */
.fi-ta-table th.w-6,
.fi-ta-table td.w-6 {
    width: 1.5rem !important;
    max-width: 1.5rem !important;
    padding-left: 4px !important;
    padding-right: 4px !important;
}

/* Inputs/selects dentro de la tabla */
.fi-ta-table .fi-input,
.fi-ta-table .fi-select,
.fi-ta-table input[type="text"],
.fi-ta-table select {
    font-size: 12px !important;
    height: 1.5rem !important;
    line-height: 1.2 !important;
    padding: 0 .375rem !important;
}

/* Select Auxiliar (compacto original; se sobreescribe abajo con .fi-col-select si la usas) */
.fi-ta-select.fi-col-auxiliar select { font-size: 10px !important; height: 1.5rem !important; line-height: 1.1 !important; padding: 0 .375rem !important; }
.fi-ta-select.fi-col-auxiliar .ts-control { font-size: 10px !important; min-height: 1.5rem !important; height: 1.5rem !important; padding: 0 .375rem !important; line-height: 1.1 !important; }
.fi-ta-select.fi-col-auxiliar .ts-control > input { font-size: 10px !important; line-height: 1.1 !important; padding: 0 !important; }
.fi-ta-select.fi-col-auxiliar .ts-dropdown,
.fi-ta-select.fi-col-auxiliar .ts-dropdown .option,
.fi-ta-select.fi-col-auxiliar .ts-dropdown .item { font-size: 10px !important; }

/* Columna Comentarios: envolver y limitar ancho de las celdas */
.fi-ta-table th.col-comentarios,
.fi-ta-table td.col-comentarios {
    max-width: 12.5rem !important; /* ~200px */
    white-space: normal !important;
    word-break: break-word !important;
}

/* ---------- Modo compacto global ---------- */
.fi-ta-table { font-size: 13px !important; line-height: 1.35 !important; }
.fi-ta-table thead th,
.fi-ta-table tbody td {
    padding: 4px 6px !important;
    vertical-align: middle !important;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.fi-ta-table table { table-layout: fixed; width: 100%; }
.fi-ta-table tbody tr { height: 32px !important; }
.fi-ta .fi-ta-header,
.fi-ta .fi-ta-toolbar,
.fi-ta .fi-ta-filters,
.fi-pagination { padding: 6px 8px !important; gap: .35rem !important; }
.fi-ta .fi-input,
.fi-ta .fi-select,
.fi-ta .fi-input input,
.fi-ta .fi-select select { height: 30px !important; font-size: 12px !important; padding: 3px 6px !important; }
.fi-ta-table .fi-ta-actions { gap: .25rem !important; }
.fi-ta-table .fi-link,
.fi-ta-table .fi-icon-btn,
.fi-ta-table .fi-badge { font-size: 12px !important; }
.fi-ta-table .fi-ic { width: 34px !important; min-width: 34px !important; text-align: center !important; }
.fi-ta-table .fi-ta-header-cell-sort-indicator { transform: scale(.85) !important; }
:root.dark .fi-ta-table { font-size: 12.5px !important; }
:root.dark .fi-ta-table thead th,
:root.dark .fi-ta-table tbody td { padding: 3px 6px !important; }

/* ===========================
   Normalización Selects (Auxiliar y Estado)
   =========================== */
.fi-ta-table td.fi-col-select select,
.fi-ta-table th.fi-col-select select,
.fi-ta-table td.fi-col-select .ts-control,
.fi-ta-table th.fi-col-select .ts-control {
    height: 1.75rem !important;
    min-height: 1.75rem !important;
    line-height: 1.25rem !important;
    font-size: 12px !important;
    padding: 0 .5rem !important;
}
.fi-ta-table td.fi-col-select .ts-control > input,
.fi-ta-table th.fi-col-select .ts-control > input {
    height: 1.75rem !important;
    line-height: 1.25rem !important;
    font-size: 12px !important;
    padding: 0 !important;
}
/* Ancho mínimo consistente */
.fi-ta-table td.fi-col-select,
.fi-ta-table th.fi-col-select { min-width: 10.5rem !important; }

/* (Opcional) ancho sugerido para la columna Estado */
.fi-ta-table td.fi-col-estado,
.fi-ta-table th.fi-col-estado { min-width: 10.5rem !important; }

/* ===========================
   Iconos grandes SOLO en columnas marcadas
   =========================== */
.fi-ta-table td.col-icon-big .fi-icon svg,
.fi-ta-table th.col-icon-big .fi-icon svg,
.fi-ta-table td.col-icon-big .fi-icon-btn svg,
.fi-ta-table th.col-icon-big .fi-icon-btn svg { width: 24px !important; height: 24px !important; }
.fi-ta-table td.col-icon-big,
.fi-ta-table th.col-icon-big { min-width: 2.25rem !important; text-align: center !important; }

/* ===========================
   Tooltips Filament (wrap + saltos de línea)
   =========================== */
.tippy-box[data-theme~="filament"] .tippy-content,
.tippy-box .tippy-content {
  white-space: pre-line;        /* respeta \n y hace wrap */
  overflow-wrap: anywhere;      /* corta palabras/URLs larguísimas */
  word-break: normal;
  max-width: 32rem;             /* controla el ancho del tooltip */
  line-height: 1.25;
  font-size: 12px;
}

/* ===========================
   Drag-to-Scroll (consolidado)
   =========================== */
.fi-resource-list-records-page .fi-ta-overflow-x-auto,
.fi-resource-list-records-page .fi-overflow-x-auto,
.fi-resource-list-records-page .fi-ta-content {
  overflow: auto !important;
  -webkit-overflow-scrolling: touch;
}
.drag-scroll-grabbable { cursor: grab; touch-action: pan-x pan-y; }
.drag-scroll-grabbable.is-dragging {
  cursor: grabbing !important;
  user-select: none !important;
  -webkit-user-select: none !important;
  -ms-user-select: none !important;
}
.drag-scroll-grabbable.is-dragging * {
  user-select: none !important;
  -webkit-user-select: none !important;
  -ms-user-select: none !important;
}
.fi-resource-list-records-page .fi-ta-table { cursor: grab; }
.fi-resource-list-records-page .fi-ta-table.is-dragging { cursor: grabbing !important; }
